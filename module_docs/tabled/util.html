

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>tabled.util &mdash; tabled 0.1.19 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
      <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />

  
      <script src="../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../_static/documentation_options.js?v=3d116926"></script>
      <script src="../../_static/doctools.js?v=9bcbadda"></script>
      <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../_static/toggleprompt.js?v=d7ede5d2"></script>
      <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
      <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="tabled.wrappers" href="wrappers.html" />
    <link rel="prev" title="tabled.tests.util" href="tests/util.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            tabled
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../tabled.html">tabled</a></li>
<li class="toctree-l1"><a class="reference internal" href="base.html">tabled.base</a></li>
<li class="toctree-l1"><a class="reference internal" href="compare_tables.html">tabled.compare_tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="html.html">tabled.html</a></li>
<li class="toctree-l1"><a class="reference internal" href="join_tables.html">tabled.join_tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="misc.html">tabled.misc</a></li>
<li class="toctree-l1"><a class="reference internal" href="multi.html">tabled.multi</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/compare_tables_test.html">tabled.tests.compare_tables_test</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/data.html">tabled.tests.data</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/generate_data.html">tabled.tests.generate_data</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/join_tables.html">tabled.tests.join_tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/test_base.html">tabled.tests.test_base</a></li>
<li class="toctree-l1"><a class="reference internal" href="tests/util.html">tabled.tests.util</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">tabled.util</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#tabled.util.PandasJSONEncoder"><code class="docutils literal notranslate"><span class="pre">PandasJSONEncoder</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tabled.util.PandasJSONEncoder.default"><code class="docutils literal notranslate"><span class="pre">PandasJSONEncoder.default()</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tabled.util.auto_decode_bytes"><code class="docutils literal notranslate"><span class="pre">auto_decode_bytes()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#tabled.util.breadth_first_traversal"><code class="docutils literal notranslate"><span class="pre">breadth_first_traversal()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#tabled.util.collapse_columns"><code class="docutils literal notranslate"><span class="pre">collapse_columns()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#tabled.util.collapse_rows"><code class="docutils literal notranslate"><span class="pre">collapse_rows()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#tabled.util.ensure_columns"><code class="docutils literal notranslate"><span class="pre">ensure_columns()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#tabled.util.ensure_first_columns"><code class="docutils literal notranslate"><span class="pre">ensure_first_columns()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#tabled.util.ensure_last_columns"><code class="docutils literal notranslate"><span class="pre">ensure_last_columns()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#tabled.util.expand_columns"><code class="docutils literal notranslate"><span class="pre">expand_columns()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#tabled.util.expand_rows"><code class="docutils literal notranslate"><span class="pre">expand_rows()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#tabled.util.intersection_graph"><code class="docutils literal notranslate"><span class="pre">intersection_graph()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#tabled.util.invert_labeled_collection"><code class="docutils literal notranslate"><span class="pre">invert_labeled_collection()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#tabled.util.is_non_null_or_empty"><code class="docutils literal notranslate"><span class="pre">is_non_null_or_empty()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#tabled.util.map_values"><code class="docutils literal notranslate"><span class="pre">map_values()</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="#tabled.util.split_keys"><code class="docutils literal notranslate"><span class="pre">split_keys()</span></code></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="wrappers.html">tabled.wrappers</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">tabled</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">tabled.util</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/module_docs/tabled/util.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-tabled.util">
<span id="tabled-util"></span><h1>tabled.util<a class="headerlink" href="#module-tabled.util" title="Link to this heading"></a></h1>
<p>Utils</p>
<dl class="py class">
<dt class="sig sig-object py" id="tabled.util.PandasJSONEncoder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">tabled.util.</span></span><span class="sig-name descname"><span class="pre">PandasJSONEncoder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skipkeys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ensure_ascii</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_circular</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">allow_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_keys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">separators</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tabled/util.html#PandasJSONEncoder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tabled.util.PandasJSONEncoder" title="Link to this definition"></a></dt>
<dd><p>A custom JSON encoder that can handle pandas and numpy types more robustly,
even if they appear within nested data structures.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">json</span><span class="o">,</span><span class="w"> </span><span class="nn">datetime</span><span class="o">,</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span><span class="o">,</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Test with a DataFrame containing timestamps and missing values.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2023-04-09 00:02:53+0000&#39;</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="s1">&#39;UTC&#39;</span><span class="p">),</span>
<span class="gp">... </span>          <span class="n">pd</span><span class="o">.</span><span class="n">NaT</span><span class="p">,</span>
<span class="gp">... </span>          <span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2023-04-09 00:02:53+0000&#39;</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="s1">&#39;UTC&#39;</span><span class="p">)]</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">json_str</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="n">PandasJSONEncoder</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">json_str</span>  
<span class="go">&#39;[{&quot;a&quot;: 1, &quot;b&quot;: &quot;2023-04-09T00:02:53...&quot;}..., {&quot;a&quot;: 2, &quot;b&quot;: null}, {&quot;a&quot;: 3, &quot;b&quot;: &quot;2023-04-09T00:02:53...&quot;}...]&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Test with a Series containing timestamps and missing values.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">([</span><span class="n">pd</span><span class="o">.</span><span class="n">Timestamp</span><span class="p">(</span><span class="s1">&#39;2023-04-09 00:02:53+0000&#39;</span><span class="p">,</span> <span class="n">tz</span><span class="o">=</span><span class="s1">&#39;UTC&#39;</span><span class="p">),</span> <span class="n">pd</span><span class="o">.</span><span class="n">NaT</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">json_str</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="n">PandasJSONEncoder</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">json_str</span>  
<span class="go">&#39;{&quot;0&quot;: &quot;2023-04-09T00:02:53...&quot;, &quot;1&quot;: null}&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Test with numpy arrays and numpy scalar types.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;arr&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">),</span>
<span class="gp">... </span>    <span class="s2">&quot;flt&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">(</span><span class="mf">3.14</span><span class="p">),</span>
<span class="gp">... </span>    <span class="s2">&quot;bool&quot;</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">bool_</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">json_str</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="n">PandasJSONEncoder</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">json_str</span>  
<span class="go">&#39;{&quot;arr&quot;: [1, 2, 3], &quot;flt&quot;: 3.14..., &quot;bool&quot;: false}&#39;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Test with a datetime.date.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">date_val</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">date</span><span class="p">(</span><span class="mi">2002</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">date_val</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="n">PandasJSONEncoder</span><span class="p">)</span>  
<span class="go">&#39;&quot;2002-01-01&quot;&#39;</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="tabled.util.PandasJSONEncoder.default">
<span class="sig-name descname"><span class="pre">default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tabled/util.html#PandasJSONEncoder.default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tabled.util.PandasJSONEncoder.default" title="Link to this definition"></a></dt>
<dd><p>Implement this method in a subclass such that it returns
a serializable object for <code class="docutils literal notranslate"><span class="pre">o</span></code>, or calls the base implementation
(to raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>).</p>
<p>For example, to support arbitrary iterators, you could
implement default like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="c1"># Let the base class default method raise the TypeError</span>
    <span class="k">return</span> <span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tabled.util.auto_decode_bytes">
<span class="sig-prename descclassname"><span class="pre">tabled.util.</span></span><span class="sig-name descname"><span class="pre">auto_decode_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bytes</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">try_first_bytes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(1000000.0,</span> <span class="pre">10000000.0,</span> <span class="pre">100000000.0)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'utf-8'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="../../_modules/tabled/util.html#auto_decode_bytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tabled.util.auto_decode_bytes" title="Link to this definition"></a></dt>
<dd><p>Decode a byte sequence into a string, trying charset_normalizer gueses if fails.</p>
<p>This function attempts to decode the given bytes using the default encoding (usually ‘utf-8’).
If that fails due to a <cite>UnicodeDecodeError</cite>, it uses <cite>charset_normalizer</cite> to detect the encoding
by analyzing increasingly larger samples of the byte sequence, as specified in <cite>try_first_bytes</cite>.
If all attempts fail, it analyzes the entire byte sequence to detect the encoding.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>b</strong> (<em>bytes</em>) – The byte sequence to decode.</p></li>
<li><p><strong>try_first_bytes</strong> (<em>tuple</em><em> of </em><em>floats</em>) – Byte lengths to use for encoding detection samples.
Defaults to (1e6, 1e7, 1e8).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The decoded string.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>UnicodeDecodeError</strong> – If the byte sequence cannot be decoded after all attempts.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Example with UTF-8 encoded bytes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="s1">&#39;Hello, world! Привет мир! こんにちは世界！&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b_utf8</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auto_decode_bytes</span><span class="p">(</span><span class="n">b_utf8</span><span class="p">)</span> <span class="o">==</span> <span class="n">s</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Example with UTF-16 encoded bytes</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s_utf16</span> <span class="o">=</span> <span class="s1">&#39;Hello, world! 你好，世界！&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b_utf16</span> <span class="o">=</span> <span class="n">s_utf16</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;utf-16&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">auto_decode_bytes</span><span class="p">(</span><span class="n">b_utf16</span><span class="p">)</span> <span class="o">==</span> <span class="n">s_utf16</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Now, this is auto_decoding, but it doesn’t mean it’s robust.
We use <cite>charset_normalizer</cite> to detect the encoding of the bytes, and then
try to decode it with that encoding.
But sometimes you can decode something that is not the original string,
so be careful!!
It’s annoying to have to specify the encoding all the time, but this
explicitness, and the errors that come with it, can be vital.</p>
<p>Here are a few examples. We’ll</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s_latin1</span> <span class="o">=</span> <span class="s1">&#39;Héllo, wörld! Ça va?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b_latin1</span> <span class="o">=</span> <span class="n">s_latin1</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;latin-1&#39;</span><span class="p">)</span>  <span class="c1"># latin-1 is ISO-8859-1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decoded_s</span> <span class="o">=</span> <span class="n">auto_decode_bytes</span><span class="p">(</span><span class="n">b_latin1</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>  
<span class="go">Trying encoding: &#39;utf-8&#39;</span>
<span class="go">Trying encoding: ...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decoded_s</span>  
<span class="go">&#39;H幨lo, w顤ld! ド va?&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decoded_s</span> <span class="o">==</span> <span class="n">s_latin1</span>  
<span class="go">False</span>
</pre></div>
</div>
<p>(Note in the above that some tests were skipped. This is because the output
is not deterministic and can vary depending on the system and the version of
<cite>charset_normalizer</cite>.)</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s_cp1252</span> <span class="o">=</span> <span class="s1">&#39;Special characters: € £ ¥ © ®&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b_cp1252</span> <span class="o">=</span> <span class="n">s_cp1252</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="s1">&#39;cp1252&#39;</span><span class="p">)</span>  <span class="c1"># i.e. &#39;Windows-1252&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decoded_s</span> <span class="o">=</span> <span class="n">auto_decode_bytes</span><span class="p">(</span><span class="n">b_cp1252</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">Trying encoding: &#39;utf-8&#39;</span>
<span class="go">Trying encoding: &#39;cp1125&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># See that charset_normalizer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">decoded_s</span>
<span class="go">&#39;Special characters: А г е й о&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tabled.util.breadth_first_traversal">
<span class="sig-prename descclassname"><span class="pre">tabled.util.</span></span><span class="sig-name descname"><span class="pre">breadth_first_traversal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Mapping</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_node</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">yield_edges</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tabled/util.html#breadth_first_traversal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tabled.util.breadth_first_traversal" title="Link to this definition"></a></dt>
<dd><p>Yields nodes starting from the root node, expanding to neighbors recursively,
using breadth-first search, without repeating nodes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> – Adjacencies of the graph: A mapping from nodes to their neighbors.</p></li>
<li><p><strong>start_node</strong> – The node to start from (key of the graph adjacency mapping)</p></li>
<li><p><strong>yield_edges</strong> – If True, yield edges instead of nodes.
The edges are yielded as tuples of (node, neighbor).</p></li>
</ul>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">],</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">],</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">],</span> <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">],</span> <span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">breadth_first_traversal</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">))</span>
<span class="go">[&#39;B&#39;, &#39;A&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">list</span><span class="p">(</span><span class="n">breadth_first_traversal</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="n">yield_edges</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="go">[(&#39;B&#39;, &#39;A&#39;), (&#39;B&#39;, &#39;C&#39;), (&#39;B&#39;, &#39;D&#39;), (&#39;D&#39;, &#39;E&#39;)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tabled.util.collapse_columns">
<span class="sig-prename descclassname"><span class="pre">tabled.util.</span></span><span class="sig-name descname"><span class="pre">collapse_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groupings</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../../_modules/tabled/util.html#collapse_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tabled.util.collapse_columns" title="Link to this definition"></a></dt>
<dd><p>Transforms specified columns of a dataframe into single columns where each row
contains a dictionary of column names and values from the original dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – The dataframe to transform.</p></li>
<li><p><strong>groupings</strong> – A mapping that indicates which columns to collapse into dictionaries
and what to call the new resulting column.
If only a list of column names to be collapsed is given, it will be interpreted as
the group_column_names in a single <cite>{“collapsed”: group_column_names}</cite> dictionary,
that is, all <cite>group_column_names</cite> are to be collapsed in to a single collapsed column.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dataframe with the original columns not specified in <cite>columns</cite> untouched,
and a new column <cite>new_column_name</cite> containing dictionaries of the collapsed columns.</p>
</dd>
</dl>
<p>Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>  
<span class="go">   a  b   c</span>
<span class="go">0  1  3   7</span>
<span class="go">1  1  4   8</span>
<span class="go">2  2  5   9</span>
<span class="go">3  2  6  10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collapse_columns</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;ab&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">]})</span>  
<span class="go">   c   ab</span>
<span class="go">0  7  {&#39;a&#39;: 1, &#39;b&#39;: 3}</span>
<span class="go">1  8  {&#39;a&#39;: 1, &#39;b&#39;: 4}</span>
<span class="go">2  9  {&#39;a&#39;: 2, &#39;b&#39;: 5}</span>
<span class="go">3 10  {&#39;a&#39;: 2, &#39;b&#39;: 6}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tabled.util.collapse_rows">
<span class="sig-prename descclassname"><span class="pre">tabled.util.</span></span><span class="sig-name descname"><span class="pre">collapse_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">df:</span> <span class="pre">~pandas.core.frame.DataFrame,</span> <span class="pre">by:</span> <span class="pre">~typing.List,</span> <span class="pre">*,</span> <span class="pre">container:</span> <span class="pre">~typing.Callable[[~typing.Iterable],</span> <span class="pre">~typing.Iterable]</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'list'&gt;</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../../_modules/tabled/util.html#collapse_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tabled.util.collapse_rows" title="Link to this definition"></a></dt>
<dd><p>Do a groupby to collapse (the rows of) a dataframe, gathering the other
column’s values (the ones that are not keys of the groupby) into lists.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – the dataframe to collapse</p></li>
<li><p><strong>by</strong> – the columns to group by (the keys of the groupby)</p></li>
<li><p><strong>container</strong> – the container to use to gather the other columns values</p></li>
</ul>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">df</span>  
<span class="go">   a  b   c</span>
<span class="go">0  1  3   7</span>
<span class="go">1  1  4   8</span>
<span class="go">2  2  5   9</span>
<span class="go">3  2  6  10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">collapse_rows</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">])</span>  
<span class="go">   a       b        c</span>
<span class="go">0  1  [3, 4]   [7, 8]</span>
<span class="go">1  2  [5, 6]  [9, 10]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tabled.util.ensure_columns">
<span class="sig-prename descclassname"><span class="pre">tabled.util.</span></span><span class="sig-name descname"><span class="pre">ensure_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tabled/util.html#ensure_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tabled.util.ensure_columns" title="Link to this definition"></a></dt>
<dd><p>Ensure that a dataframe has certain columns, filling them with a certain value
if they don’t exist.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tabled.util.ensure_first_columns">
<span class="sig-prename descclassname"><span class="pre">tabled.util.</span></span><span class="sig-name descname"><span class="pre">ensure_first_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tabled/util.html#ensure_first_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tabled.util.ensure_first_columns" title="Link to this definition"></a></dt>
<dd><p>Ensure that the given columns come first (if they exist), with the rest of the columns
following in the order they were in the original dataframe.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tabled.util.ensure_last_columns">
<span class="sig-prename descclassname"><span class="pre">tabled.util.</span></span><span class="sig-name descname"><span class="pre">ensure_last_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tabled/util.html#ensure_last_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tabled.util.ensure_last_columns" title="Link to this definition"></a></dt>
<dd><p>Ensure that the given columns come last (if they exist), with the rest of the columns
preceding in the order they were in the original dataframe.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tabled.util.expand_columns">
<span class="sig-prename descclassname"><span class="pre">tabled.util.</span></span><span class="sig-name descname"><span class="pre">expand_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">df:</span> <span class="pre">~pandas.core.frame.DataFrame,</span> <span class="pre">expand_columns:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">~typing.List[str],</span> <span class="pre">*,</span> <span class="pre">drop=True,</span> <span class="pre">key_mapper=functools.partial(&lt;function</span> <span class="pre">column_sep_key_mapper&gt;,</span> <span class="pre">sep='.'),</span> <span class="pre">drop_non_iterable_rows=False</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../../_modules/tabled/util.html#expand_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tabled.util.expand_columns" title="Link to this definition"></a></dt>
<dd><p>Expands the iterable values of specified columns in to new columns.
The new columns will be named using the column_name and the key of the values of
the iterable that is expanded (key if dict, integer index if sequence).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – The dataframe to transform.</p></li>
<li><p><strong>expand_columns</strong> – A list of column names whose values are dictionaries
that need to be expanded into new columns.</p></li>
<li><p><strong>drop</strong> – Whether to drop the original columns that were expanded.</p></li>
<li><p><strong>drop_non_iterable_rows</strong> – Whether to drop rows that have non-iterable values</p></li>
<li><p><strong>key_mapper</strong> – A function that takes a key and a column name and returns a
new key. By default, the new key is the concatenation of the column name and
the original key. If None, will just take the original key. The reason for
also taking the column_name by default is to avoid collisions if the keys are
used in more than one column.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dataframe with the expanded columns added.</p>
</dd>
</dl>
<p>Examples:
&gt;&gt;&gt; df = pd.DataFrame({
…     ‘c’: [7, 8, 9, 10],
…     ‘X’: [{‘a’: 1, ‘b’: 3}, {‘a’: 1, ‘b’: 4}, {‘a’: 2, ‘b’: 5}, {‘a’: 2, ‘b’: 6}]
… })
&gt;&gt;&gt; expand_columns(df, [‘X’])  # doctest: +NORMALIZE_WHITESPACE</p>
<blockquote>
<div><p>c  X.a  X.b</p>
</div></blockquote>
<p>0  7  1  3
1  8  1  4
2  9  2  5
3 10  2  6</p>
<p>Let’s see what happens when the elements of an expanded column are lists instead of
dicts, we ask to not drop, and we use <cite>key_mapper=None</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;X&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">6</span><span class="p">]]</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expand_columns</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;X&#39;</span><span class="p">],</span> <span class="n">drop</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">key_mapper</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>  
<span class="go">    c       X  0  1</span>
<span class="go">0   7  [1, 3]  1  3</span>
<span class="go">1   8  [1, 4]  1  4</span>
<span class="go">2   9  [2, 5]  2  5</span>
<span class="go">3  10  [2, 6]  2  6</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tabled.util.expand_rows">
<span class="sig-prename descclassname"><span class="pre">tabled.util.</span></span><span class="sig-name descname"><span class="pre">expand_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">DataFrame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grouped_columns</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">DataFrame</span></span></span><a class="reference internal" href="../../_modules/tabled/util.html#expand_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tabled.util.expand_rows" title="Link to this definition"></a></dt>
<dd><p>Expands a DataFrame where specific columns were collapsed into containers back to its original form.
Each column in <cite>grouped_columns</cite> should contain lists of the same length within each row.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> – The DataFrame to expand.</p></li>
<li><p><strong>grouped_columns</strong> – The list of columns to expand</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The expanded DataFrame.</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df_collapsed</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">66</span><span class="p">]],</span>
<span class="gp">... </span>    <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">[[</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">],</span> <span class="p">[</span><span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">11</span><span class="p">]]</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expand_rows</span><span class="p">(</span><span class="n">df_collapsed</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">])</span>  
<span class="go">    a  b   c</span>
<span class="go">0  1  3   7</span>
<span class="go">1  1  4   8</span>
<span class="go">2  2  5   9</span>
<span class="go">3  2  6  10</span>
<span class="go">4  2  66  11</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tabled.util.intersection_graph">
<span class="sig-prename descclassname"><span class="pre">tabled.util.</span></span><span class="sig-name descname"><span class="pre">intersection_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sets</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">KT</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">set</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_labels</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'elements'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'size'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">False</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tabled/util.html#intersection_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tabled.util.intersection_graph" title="Link to this definition"></a></dt>
<dd><p>A graph of all intersections between sets.
(See <a class="reference external" href="https://en.wikipedia.org/wiki/Intersection_graph">https://en.wikipedia.org/wiki/Intersection_graph</a>.)</p>
<p>In graph theory, an adjacency list is a collection of sets used to represent a
finite graph.
Here, the vertices are the values of sets,
and there is an edge between two vertices if the sets intersect.
The weight of the edge is the size of the intersection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sets</strong> – A mapping of keys to sets of elements. These sets of elements will
be the vertices of the graph.</p></li>
<li><p><strong>edge_labels</strong> – If ‘elements’, the edge labels are the elements of the intersection.
If ‘size’, the edge labels are the size of the intersection.
If False, there are no edge labels.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A graph, represented by an “adjacency list”
(see <a class="reference external" href="https://en.wikipedia.org/wiki/Adjacency_list">https://en.wikipedia.org/wiki/Adjacency_list</a>)
(a dict whose keys are the keys of the input <cite>sets</cite> dict, and whose values
tell us what sets of <cite>sets</cite> intersect with it),
optionally with some information about this intersection.</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sets</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">},</span>
<span class="gp">... </span>    <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">},</span>
<span class="gp">... </span>    <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;f&#39;</span><span class="p">,</span> <span class="s1">&#39;g&#39;</span><span class="p">},</span>
<span class="gp">... </span>    <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">,</span> <span class="s1">&#39;h&#39;</span><span class="p">,</span> <span class="s1">&#39;i&#39;</span><span class="p">},</span>
<span class="gp">... </span>    <span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;i&#39;</span><span class="p">,</span> <span class="s1">&#39;j&#39;</span><span class="p">}</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">intersection_graph</span><span class="p">(</span><span class="n">sets</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;B&#39;</span><span class="p">},</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">},</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;B&#39;</span><span class="p">},</span> <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">},</span> <span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;D&#39;</span><span class="p">}</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">intersection_graph</span><span class="p">(</span><span class="n">sets</span><span class="p">,</span> <span class="n">edge_labels</span><span class="o">=</span><span class="s1">&#39;elements&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">}},</span>
<span class="gp">... </span>    <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;b&#39;</span><span class="p">},</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;f&#39;</span><span class="p">},</span> <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">}},</span>
<span class="gp">... </span>    <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;f&#39;</span><span class="p">}},</span>
<span class="gp">... </span>    <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">},</span> <span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;i&#39;</span><span class="p">}},</span>
<span class="gp">... </span>    <span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;i&#39;</span><span class="p">}}</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="n">intersection_graph</span><span class="p">(</span><span class="n">sets</span><span class="p">,</span> <span class="n">edge_labels</span><span class="o">=</span><span class="s1">&#39;size&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
<span class="gp">... </span>    <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">},</span>
<span class="gp">... </span>    <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
<span class="gp">... </span>    <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">},</span>
<span class="gp">... </span>    <span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}</span>
<span class="gp">... </span><span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tabled.util.invert_labeled_collection">
<span class="sig-prename descclassname"><span class="pre">tabled.util.</span></span><span class="sig-name descname"><span class="pre">invert_labeled_collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">d:</span> <span class="pre">~typing.Mapping[KT,</span> <span class="pre">~typing.Iterable],</span> <span class="pre">values_container:</span> <span class="pre">~typing.Callable</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'list'&gt;</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Mapping</span><span class="p"><span class="pre">[</span></span><span class="pre">VT</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Iterable</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/tabled/util.html#invert_labeled_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tabled.util.invert_labeled_collection" title="Link to this definition"></a></dt>
<dd><p>Invert a mapping whose values are iterables of objects,
getting a mapping from objects to iterables of keys.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">original_dict</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="s2">&quot;X&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;Y&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s2">&quot;Z&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inverted_dict</span> <span class="o">=</span> <span class="n">invert_labeled_collection</span><span class="p">(</span><span class="n">original_dict</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">inverted_dict</span>
<span class="go">{&#39;a&#39;: [&#39;X&#39;, &#39;Y&#39;, &#39;Z&#39;], &#39;b&#39;: [&#39;X&#39;, &#39;Z&#39;], &#39;c&#39;: [&#39;Z&#39;]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">invert_labeled_collection</span><span class="p">(</span><span class="n">inverted_dict</span><span class="p">)</span>
<span class="go">{&#39;X&#39;: [&#39;a&#39;, &#39;b&#39;], &#39;Y&#39;: [&#39;a&#39;], &#39;Z&#39;: [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]}</span>
</pre></div>
</div>
<p>The <cite>values_container</cite> argument can be used to cast the values of the inverted dict.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">assert</span> <span class="p">(</span>
<span class="gp">... </span>    <span class="n">invert_labeled_collection</span><span class="p">(</span><span class="n">original_dict</span><span class="p">,</span> <span class="n">values_container</span><span class="o">=</span><span class="nb">set</span><span class="p">)</span>
<span class="gp">... </span>    <span class="o">==</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Y&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">},</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;X&#39;</span><span class="p">,</span> <span class="s1">&#39;Z&#39;</span><span class="p">},</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;Z&#39;</span><span class="p">}}</span>
<span class="gp">... </span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="s1">&#39;banana&#39;</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">invert_labeled_collection</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">values_container</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">{&#39;a&#39;: &#39;abbb&#39;, &#39;p&#39;: &#39;aa&#39;, &#39;l&#39;: &#39;a&#39;, &#39;e&#39;: &#39;a&#39;, &#39;b&#39;: &#39;b&#39;, &#39;n&#39;: &#39;bb&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">invert_labeled_collection</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">)</span>
<span class="go">{&#39;a&#39;: &#39;apple&#39;, &#39;b&#39;: &#39;aaabnn&#39;}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tabled.util.is_non_null_or_empty">
<span class="sig-prename descclassname"><span class="pre">tabled.util.</span></span><span class="sig-name descname"><span class="pre">is_non_null_or_empty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tabled/util.html#is_non_null_or_empty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tabled.util.is_non_null_or_empty" title="Link to this definition"></a></dt>
<dd><p>Check if a value is not None, not empty, and not an empty list.</p>
<p>Often used with pandas dataframes to check if a cell is null or non-empty.</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">num_of_non_empties_in_row</span> <span class="pre">=</span> <span class="pre">df.map(is_non_null_or_empty).sum(axis=1)</span>
<span class="pre">num_of_non_empties_in_col</span> <span class="pre">=</span> <span class="pre">df.map(is_non_null_or_empty).sum(axis=0)</span>
<span class="pre">`</span></code></p>
<p>And then you can do:</p>
<p><code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">num_of_non_empties_in_row.sort_values(ascending=False)</span> <span class="pre">to</span> <span class="pre">see</span> <span class="pre">which</span> <span class="pre">rows</span> <span class="pre">have</span> <span class="pre">the</span> <span class="pre">least</span> <span class="pre">empties</span> <span class="pre">(most</span> <span class="pre">actual</span> <span class="pre">data)</span>
<span class="pre">`</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tabled.util.map_values">
<span class="sig-prename descclassname"><span class="pre">tabled.util.</span></span><span class="sig-name descname"><span class="pre">map_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">d</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tabled/util.html#map_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tabled.util.map_values" title="Link to this definition"></a></dt>
<dd><p>Apply a function to all values of a dictionary.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">map_values</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">**</span> <span class="mi">2</span><span class="p">,</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span> <span class="mi">4</span><span class="p">})</span>
<span class="go">{1: 4, 3: 16}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="tabled.util.split_keys">
<span class="sig-prename descclassname"><span class="pre">tabled.util.</span></span><span class="sig-name descname"><span class="pre">split_keys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/tabled/util.html#split_keys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#tabled.util.split_keys" title="Link to this definition"></a></dt>
<dd><p>Returns a dictionary where keys that had spaces were split into multiple keys</p>
<p>Meant to be a convenience function for the user to use when they want to define a
mapping where several keys map to the same value.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">split_keys</span><span class="p">({</span><span class="s1">&#39;apple&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;banana carrot&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="go">{&#39;apple&#39;: 1, &#39;banana&#39;: 2, &#39;carrot&#39;: 2}</span>
</pre></div>
</div>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tests/util.html" class="btn btn-neutral float-left" title="tabled.tests.util" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="wrappers.html" class="btn btn-neutral float-right" title="tabled.wrappers" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright NO COPYRIGHT.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>